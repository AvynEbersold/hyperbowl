<%- include('partials/metadata'); -%> <%- include('partials/header') -%> <%- include('partials/sidebar') -%>
<div class="default-header">
	<div class="default-header-text-div">
		<h1 class="default-header-text">Edit Existing Draft</h1>
	</div>
</div>
<div class="full-width dark-secondary-txt">
	<div class="col-lg-6 col-md-10 col-sm-12 centered-div margin-top">
		<div class="card margin-bottom">
			<div class="card-body">
				<!-- Makes POST request to /login route -->
				<div class="form-group">
					<label for="text">Title</label>
					<input type="text" class="form-control" value="<%= draft.title %>" id="postTitle" required />
				</div>
				<div class="form-group">
					<label for="text">Content</label>
					<script src="/js/editor.js" charset="utf-8"></script>
					<div class="full-width draft-creation-content">
						<div class="toolbar">
							<button class="tool-items fa fa-underline" onclick="document.execCommand('underline', false, '');"></button>

							<button class="tool-items fa fa-italic" onclick="document.execCommand('italic', false, '');"></button>

							<button class="tool-items fa fa-bold" onclick="document.execCommand('bold', false, '');"></button>

							<button class="tool-items fa fa-link" onclick="link()"></button>

							<button class="tool-items fa fa-scissors" onclick="document.execCommand('cut',false,'')"></button>

							<button class="tool-items fa fa-undo" onclick="document.execCommand('undo',false,'')"></button>

							<button class="tool-items fa fa-repeat" onclick="document.execCommand('redo',false,'')"></button>

							<button class="tool-items fa fa-tint" onclick="changeColor()"></button>

							<button class="tool-items fa fa-strikethrough" onclick="document.execCommand('strikeThrough',false,'')"></button>

							<button class="tool-items fa fa-trash" onclick="document.execCommand('delete',false,'')"></button>

							<button class="tool-items fa fa-scribd" onclick="document.execCommand('selectAll',false,'')"></button>

							<button class="tool-items fa fa-clone" onclick="copy()"></button>

							<!-- Justify -->

							<button class="tool-items fa fa-align-center" onclick="document.execCommand('justifyCenter',false,'')"></button>

							<button class="tool-items fa fa-align-left" onclick="document.execCommand('justifyLeft',false,'')"></button>
							<button class="tool-items fa fa-align-right" onclick="document.execCommand('justifyRight',false,'')"></button>

							<!-- Image -->
							<label for="file" class="margin-left fa fa-file-image-o"><span class="margin-left">Insert Image</span></label>
							<input class="tool-items fa fa-file-image-o" type="file" accept="image/*" id="file" style="display: none;" onchange="getImage()" />
						</div>

						<div class="center">
							<div class="editor" id="postContent" contenteditable><%- draft.content %></div>
						</div>

						<div class="center">
							<section class="getcontent"></section>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label for="text">Header Image (URL)</label>
					<input type="text" class="form-control" id="postImage" value="<%= draft.image %>" />
				</div>
				<form action="/create" method="POST" autocomplete="off" id="createPostForm" name="createPostForm">
					<input type="text" class="hidden form-control" name="postTitle" />
					<input type="text" class="hidden form-control" name="postContent" />
					<input type="text" class="hidden form-control" name="postImage" />

					<input type="hidden" id="originalPost" value="false" />
					<input type="hidden" id="draftId" value="<%= draft._id %>" />

					<button type="button" class="btn btn-dark create-post-btn">Create & Publish Post</button>
					<button type="button" class="btn primary-btn create-draft-btn">Save</button>
				</form>
			</div>
		</div>
	</div>
</div>

<%- include('partials/footer') -%>
